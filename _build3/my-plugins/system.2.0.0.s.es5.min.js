
// See: https://github.com/taylorhakes/promise-polyfill
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";function e(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function n(e){return!(!e||"undefined"==typeof e.length)}function t(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],c(e,this)}function r(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(r){return void f(n.promise,r)}i(n.promise,o)}else(1===e._state?i:f)(n.promise,e._value)})):e._deferreds.push(n)}function i(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof o)return e._state=3,e._value=n,void u(e);if("function"==typeof t)return void c(function(e,n){return function(){e.apply(n,arguments)}}(t,n),e)}e._state=1,e._value=n,u(e)}catch(r){f(e,r)}}function f(e,n){e._state=2,e._value=n,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;t>n;n++)r(e,e._deferreds[n]);e._deferreds=null}function c(e,n){var t=!1;try{e(function(e){t||(t=!0,i(n,e))},function(e){t||(t=!0,f(n,e))})}catch(o){if(t)return;t=!0,f(n,o)}}var a=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,n){var o=new this.constructor(t);return r(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(e,n,o)),o},o.prototype["finally"]=e,o.all=function(e){return new o(function(t,o){function r(e,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var u=n.then;if("function"==typeof u)return void u.call(n,function(n){r(e,n)},o)}i[e]=n,0==--f&&t(i)}catch(c){o(c)}}if(!n(e))return o(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var f=i.length,u=0;i.length>u;u++)r(u,i[u])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(t,r){if(!n(e))return r(new TypeError("Promise.race accepts an array"));for(var i=0,f=e.length;f>i;i++)o.resolve(e[i]).then(t,r)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){a(e,0)},o._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"Promise"in l?l.Promise.prototype["finally"]||(l.Promise.prototype["finally"]=e):l.Promise=o});


// See: https://github.com/systemjs/systemjs
function _typeof(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(b){return typeof b}:_typeof=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},_typeof(a)}"use strict",!function(){function h(){this[g]={}}var a="undefined"!=typeof self?self:global,b;if("undefined"!=typeof location){var c=(b=location.href.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==c&&(b=b.slice(0,c+1))}var d=/\\/g,e="undefined"!=typeof Symbol,f=e&&Symbol.toStringTag,g=e?Symbol():"@",i=h.prototype,j;i.import=function(a,b){var c=this;return Promise.resolve(c.resolve(a,b)).then(function(a){var b=function d(a,b,c){var e=a[g][b];if(e)return e;var h=[],i=Object.create(null);f&&Object.defineProperty(i,f,{value:"Module"});var j=Promise.resolve().then(function(){return a.instantiate(b,c)}).then(function(c){if(!c)throw Error("Module "+b+" did not instantiate");var d=c[1](function(a,b){e.h=!0;var c=!1;if("object"!=_typeof(a))a in i&&i[a]===b||(i[a]=b,c=!0);else for(var d in a){var f=a[d];d in i&&i[d]===f||(i[d]=f,c=!0)}if(c)for(var g=0;g<h.length;g++)h[g](i);return b},2===c[1].length?{"import":function(d){return a.import(d,b)},meta:a.createContext(b)}:void 0);return e.e=d.execute||function(){},[c[0],d.setters||[]]}),k=j.then(function(c){return Promise.all(c[0].map(function(e,f){var g=c[1][f];return Promise.resolve(a.resolve(e,b)).then(function(c){var e=d(a,c,b);return Promise.resolve(e.I).then(function(){return g&&(e.i.push(g),!e.h&&e.I||g(e.n)),e})})})).then(function(a){e.d=a})});return k.catch(function(){}),e=a[g][b]={id:b,i:h,n:i,I:j,L:k,h:!1,d:void 0,e:void 0,eE:void 0,E:void 0,C:void 0}}(c,a);return b.C||function(a,b){return b.C=function c(a,b,d){if(!d[b.id])return d[b.id]=!0,Promise.resolve(b.L).then(function(){return Promise.all(b.d.map(function(b){return c(a,b,d)}))})}(a,b,{}).then(function(){return function c(a,b,d){function f(){try{var a=b.e.call(k);if(a)return a.then(function(){b.C=b.n,b.E=null}),a.catch(function(){}),b.E=b.E||a;b.C=b.n}catch(c){throw b.eE=c,c}finally{b.L=b.I=void 0,b.e=null}}if(d[b.id])return;if(d[b.id]=!0,!b.e){if(b.eE)throw b.eE;return b.E?b.E:void 0}var e;return b.d.forEach(function(b){var f=c(a,b,d);f&&(e=e||[]).push(f)}),e?b.E=Promise.all(e).then(f):f()}(a,b,{})}).then(function(){return b.n})}(c,b)})},i.createContext=function(a){return{url:a}},i.register=function(a,b){j=[a,b]},i.getRegister=function(){var a=j;return j=void 0,a};var k=Object.freeze(Object.create(null)),l;a.System=new h,"undefined"!=typeof window&&window.addEventListener("error",function(a){l=a.error});var m=i.register;i.register=function(a,b){l=void 0,m.call(this,a,b)},i.instantiate=function(a,b){var c=this;return new Promise(function(d,e){var f=document.createElement("script");f.charset="utf-8",f.async=!0,f.addEventListener("error",function(){e(Error("Error loading "+a+(b?" from "+b:"")))}),f.addEventListener("load",function(){if(document.head.removeChild(f),l)return e(l);d(c.getRegister())}),f.src=a,document.head.appendChild(f)})},i.resolve=function(a,c){var e=function(a,b){if(-1!==a.indexOf("\\")&&(a=a.replace(d,"/")),"/"===a[0]&&"/"===a[1])return b.slice(0,b.indexOf(":")+1)+a;if("."===a[0]&&("/"===a[1]||"."===a[1]&&("/"===a[2]||2===a.length&&(a+="/"))||1===a.length&&(a+="/"))||"/"===a[0]){var c=b.slice(0,b.indexOf(":")+1),e;if(e="/"===b[c.length+1]?"file:"!==c?(e=b.slice(c.length+2)).slice(e.indexOf("/")+1):b.slice(8):b.slice(c.length+1),"/"===a[0])return b.slice(0,b.length-e.length-1)+a;var f=e.slice(0,e.lastIndexOf("/")+1)+a,g=[],h=-1;for(var i=0;i<f.length;i++)-1!==h?"/"===f[i]&&(g.push(f.slice(h,i+1)),h=-1):"."===f[i]?"."!==f[i+1]||"/"!==f[i+2]&&i+2!==f.length?"/"===f[i+1]||i+1===f.length?i+=1:h=i:(g.pop(),i+=2):h=i;return-1!==h&&g.push(f.slice(h)),b.slice(0,b.length-e.length)+g.join("")}}(a,c||b);if(!e){if(-1!==a.indexOf(":"))return a;throw Error('Cannot resolve "'+a+(c?'" from '+c:'"'))}return e}}();